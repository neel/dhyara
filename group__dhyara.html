<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Dhyara: Dhyara</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="qtify.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Dhyara
   </div>
   <div id="projectbrief">Dhyara adhoc Network</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__dhyara.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Dhyara</div>  </div>
</div><!--header-->
<div class="contents">

<p>Dhyara Communication Interface provides a simplified abstraction over the underlying Ad-Hoc Network. Unless there is a need to customize the internal mechanism of maintaining the usercode only needs to interact through this module. Dhyara is written in C++11. Some functionalities are exposed as C functions, so that it can also be incorporated into a C project.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdhyara_1_1link.html">dhyara::link</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Link is responsible for low level sending/receiving.  <a href="classdhyara_1_1link.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdhyara_1_1network.html">dhyara::network</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The dhyara ad-hoc network.  <a href="structdhyara_1_1network.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structdhyara_1_1peer__address.html">dhyara::peer_address</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">peer address (mac address)  <a href="structdhyara_1_1peer__address.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga53e6fba4548ac861adb1b477134d84cf"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dhyara.html#ga53e6fba4548ac861adb1b477134d84cf">dhyara_wifi_init</a> (wifi_mode_t mode)</td></tr>
<tr class="memdesc:ga53e6fba4548ac861adb1b477134d84cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Conveniance function to initialize wifi.  <a href="group__dhyara.html#ga53e6fba4548ac861adb1b477134d84cf">More...</a><br /></td></tr>
<tr class="separator:ga53e6fba4548ac861adb1b477134d84cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga86084def043742c0f3d7d2a8a2ffe87b"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dhyara.html#ga86084def043742c0f3d7d2a8a2ffe87b">dhyara_espnow_init</a> ()</td></tr>
<tr class="memdesc:ga86084def043742c0f3d7d2a8a2ffe87b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize ESP-Now.  <a href="group__dhyara.html#ga86084def043742c0f3d7d2a8a2ffe87b">More...</a><br /></td></tr>
<tr class="separator:ga86084def043742c0f3d7d2a8a2ffe87b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga42863788515b1583d0ec0b4fd2b8a0fa"><td class="memItemLeft" align="right" valign="top">esp_err_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dhyara.html#ga42863788515b1583d0ec0b4fd2b8a0fa">dhyara_init</a> (wifi_mode_t mode)</td></tr>
<tr class="memdesc:ga42863788515b1583d0ec0b4fd2b8a0fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes wifi, starts wifi, then initializes ESP Now.  <a href="group__dhyara.html#ga42863788515b1583d0ec0b4fd2b8a0fa">More...</a><br /></td></tr>
<tr class="separator:ga42863788515b1583d0ec0b4fd2b8a0fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeb2d5dd4f524d1d165a4f4cf6f837ed8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dhyara.html#gaeb2d5dd4f524d1d165a4f4cf6f837ed8">dhyara_create_default_network</a> ()</td></tr>
<tr class="memdesc:gaeb2d5dd4f524d1d165a4f4cf6f837ed8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates the default global network.  <a href="group__dhyara.html#gaeb2d5dd4f524d1d165a4f4cf6f837ed8">More...</a><br /></td></tr>
<tr class="separator:gaeb2d5dd4f524d1d165a4f4cf6f837ed8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac4a4e3c727ec3d63ba96f3b5ab963b68"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dhyara.html#gac4a4e3c727ec3d63ba96f3b5ab963b68">dhyara_start_default_network</a> ()</td></tr>
<tr class="memdesc:gac4a4e3c727ec3d63ba96f3b5ab963b68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the default network.  <a href="group__dhyara.html#gac4a4e3c727ec3d63ba96f3b5ab963b68">More...</a><br /></td></tr>
<tr class="separator:gac4a4e3c727ec3d63ba96f3b5ab963b68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad860e0c89a7d23dd21693769dd7d528e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dhyara.html#gad860e0c89a7d23dd21693769dd7d528e">dhyara_has_default_network</a> ()</td></tr>
<tr class="memdesc:gad860e0c89a7d23dd21693769dd7d528e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether the default network is set or not.  <a href="group__dhyara.html#gad860e0c89a7d23dd21693769dd7d528e">More...</a><br /></td></tr>
<tr class="separator:gad860e0c89a7d23dd21693769dd7d528e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Send variable length data.</h2></td></tr>
<tr class="memitem:ga739fc7f4116f7eb70d733faad6a9aac3"><td class="memTemplParams" colspan="2">template&lt;typename InputIt &gt; </td></tr>
<tr class="memitem:ga739fc7f4116f7eb70d733faad6a9aac3"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__dhyara.html#ga739fc7f4116f7eb70d733faad6a9aac3">dhyara_send</a> (const <a class="el" href="structdhyara_1_1peer__address.html">dhyara::peer_address</a> &amp;target, InputIt begin, InputIt end)</td></tr>
<tr class="memdesc:ga739fc7f4116f7eb70d733faad6a9aac3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a variable length data as data packet to the destination over multi hop network.  <a href="group__dhyara.html#ga739fc7f4116f7eb70d733faad6a9aac3">More...</a><br /></td></tr>
<tr class="separator:ga739fc7f4116f7eb70d733faad6a9aac3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa1db22c8c7fc5ec7e6ad632a9327e6f5"><td class="memTemplParams" colspan="2">template&lt;typename InputIt &gt; </td></tr>
<tr class="memitem:gaa1db22c8c7fc5ec7e6ad632a9327e6f5"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__dhyara.html#gaa1db22c8c7fc5ec7e6ad632a9327e6f5">dhyara_send</a> (const <a class="el" href="structdhyara_1_1peer__address.html">dhyara::peer_address</a> &amp;target, InputIt begin, std::size_t len)</td></tr>
<tr class="memdesc:gaa1db22c8c7fc5ec7e6ad632a9327e6f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a variable length data as data packet to the destination over multi hop network.  <a href="group__dhyara.html#gaa1db22c8c7fc5ec7e6ad632a9327e6f5">More...</a><br /></td></tr>
<tr class="separator:gaa1db22c8c7fc5ec7e6ad632a9327e6f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3d7c1e001cecb51f780b7eb3a7db356c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dhyara.html#ga3d7c1e001cecb51f780b7eb3a7db356c">dhyara_send</a> (const unsigned char *target, const void *data, unsigned long len)</td></tr>
<tr class="memdesc:ga3d7c1e001cecb51f780b7eb3a7db356c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a variable length data as data packet to the destination over multi hop network.  <a href="group__dhyara.html#ga3d7c1e001cecb51f780b7eb3a7db356c">More...</a><br /></td></tr>
<tr class="separator:ga3d7c1e001cecb51f780b7eb3a7db356c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Receive variable length data.</h2></td></tr>
<tr class="memitem:gaaf7792aa443e682cf3dc63f0815c4b9e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dhyara.html#gaaf7792aa443e682cf3dc63f0815c4b9e">dhyara_receivef</a> (dhyara_receivef_callback_t callback)</td></tr>
<tr class="memdesc:gaaf7792aa443e682cf3dc63f0815c4b9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for <a class="el" href="group__dhyara.html#gaaf7792aa443e682cf3dc63f0815c4b9e">dhyara_receivef</a>.  <a href="group__dhyara.html#gaaf7792aa443e682cf3dc63f0815c4b9e">More...</a><br /></td></tr>
<tr class="separator:gaaf7792aa443e682cf3dc63f0815c4b9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab53490ae8317a4dcdb9308543aaa32ff"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dhyara.html#gab53490ae8317a4dcdb9308543aaa32ff">dhyara_receive</a> (dhyara_receive_callback_type callback)</td></tr>
<tr class="memdesc:gab53490ae8317a4dcdb9308543aaa32ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a callback on the default networks on_data.  <a href="group__dhyara.html#gab53490ae8317a4dcdb9308543aaa32ff">More...</a><br /></td></tr>
<tr class="separator:gab53490ae8317a4dcdb9308543aaa32ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae85e9889960b31503c677e2d577f2dd7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dhyara.html#gae85e9889960b31503c677e2d577f2dd7">dhyara_receive_data</a> (dhyara_receive_data_callback_type callback)</td></tr>
<tr class="memdesc:gae85e9889960b31503c677e2d577f2dd7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a callback on the default networks on_data.  <a href="group__dhyara.html#gae85e9889960b31503c677e2d577f2dd7">More...</a><br /></td></tr>
<tr class="separator:gae85e9889960b31503c677e2d577f2dd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Local</h2></td></tr>
<tr class="memitem:ga672baef2f77147252c5a13bf40022fd6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dhyara.html#ga672baef2f77147252c5a13bf40022fd6">dhyara_local</a> (unsigned char *address)</td></tr>
<tr class="memdesc:ga672baef2f77147252c5a13bf40022fd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">gets the mac address of self  <a href="group__dhyara.html#ga672baef2f77147252c5a13bf40022fd6">More...</a><br /></td></tr>
<tr class="separator:ga672baef2f77147252c5a13bf40022fd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga36d8ce61d2823d3dfd1b93ecdbc3a8d9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdhyara_1_1peer__address.html">dhyara::peer_address</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dhyara.html#ga36d8ce61d2823d3dfd1b93ecdbc3a8d9">dhyara_local</a> ()</td></tr>
<tr class="memdesc:ga36d8ce61d2823d3dfd1b93ecdbc3a8d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">gets the mac address of self  <a href="group__dhyara.html#ga36d8ce61d2823d3dfd1b93ecdbc3a8d9">More...</a><br /></td></tr>
<tr class="separator:ga36d8ce61d2823d3dfd1b93ecdbc3a8d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Dhyara Communication Interface provides a simplified abstraction over the underlying Ad-Hoc Network. Unless there is a need to customize the internal mechanism of maintaining the usercode only needs to interact through this module. Dhyara is written in C++11. Some functionalities are exposed as C functions, so that it can also be incorporated into a C project. </p>
<h3><a class="anchor" id="autotoc_md0"></a>
Architecture</h3>
<p><a class="el" href="classdhyara_1_1link.html">dhyara::link</a> is responsible for performing the low level IO operations in the network. <a class="el" href="classdhyara_1_1link.html">dhyara::link</a> also maintains the neighbourhood, routing and message queue for sending and receiving frames over the network. <a class="el" href="structdhyara_1_1network.html">dhyara::network</a> configures the link and creates FreeRTOS tasks to initialize and maintain the Ad-Hoc Network. <a class="el" href="structdhyara_1_1network.html">dhyara::network</a> also provides convenience functions to interact with the underlying link. There should be exactly one instance of the link and the network. While initializing dhyara, certain functions <a class="el" href="classdhyara_1_1link.html">dhyara::link</a> are required to be plugged in as callbacks to the espnow and wifi subsystem.</p>
<h3><a class="anchor" id="autotoc_md1"></a>
Initialization</h3>
<p>Dhyara runs on the top of ESP Now. So it requires wifi and espnow to be initialized and started in order to work. A <a class="el" href="classdhyara_1_1link.html">dhyara::link</a> is constructed, which can be accessed by dhyara_link. The functions <a class="el" href="group__dhyara.html#ga42863788515b1583d0ec0b4fd2b8a0fa">dhyara_init</a> and <a class="el" href="group__dhyara.html#gac4a4e3c727ec3d63ba96f3b5ab963b68">dhyara_start_default_network</a> is used to initialize and start the network. </p><div class="fragment"><div class="line">ESP_ERROR_CHECK(<a class="code" href="group__dhyara.html#ga42863788515b1583d0ec0b4fd2b8a0fa">dhyara_init</a>(WIFI_MODE_AP));</div>
<div class="line"><a class="code" href="group__dhyara.html#gac4a4e3c727ec3d63ba96f3b5ab963b68">dhyara_start_default_network</a>();</div>
</div><!-- fragment --><p> These two functions perform the necessary initialization steps for wifi, espnow and dhyara. While calling these two functions, the usercode may directly interact with the wifi subsystem with the ESP-IDF APIs in order to configure the network interfaces. <a class="el" href="group__dhyara.html#ga42863788515b1583d0ec0b4fd2b8a0fa">dhyara_init</a> performs three operations.</p>
<ul>
<li><a class="el" href="group__dhyara.html#ga53e6fba4548ac861adb1b477134d84cf">dhyara_wifi_init</a> to initialize wifi (e.g. Initializing and creating default network interfaces for AP and STA and registering event handlers etc.)</li>
<li>esp_wifi_start to start the wifi</li>
<li><a class="el" href="group__dhyara.html#ga86084def043742c0f3d7d2a8a2ffe87b">dhyara_espnow_init</a> to initialize espnow and register the <a class="el" href="classdhyara_1_1link.html">dhyara::link</a> functions as espnow callbacks</li>
</ul>
<p>The network is an instance of <a class="el" href="structdhyara_1_1network.html">dhyara::network</a> which is maintained as a global pointer (set to null by default). <a class="el" href="group__dhyara.html#gac4a4e3c727ec3d63ba96f3b5ab963b68">dhyara_start_default_network</a> creates a network by using <a class="el" href="group__dhyara.html#gaeb2d5dd4f524d1d165a4f4cf6f837ed8">dhyara_create_default_network</a>, if it is not already set. Usercode may use dhyara_set_default_network to set an user created network as default.</p>
<dl class="section attention"><dt>Attention</dt><dd>Usercode may completely bypass the creation of a global network and maintain the network in the usercode. A few (non-essential) functions like <a class="el" href="group__tools.html#gaa8cb4f34401109288d804f06b304f1e9">dhyara_ping</a>, <a class="el" href="group__tools.html#ga0266cd5ec2355673a411623395a008a5">dhyara_traceroute</a>, <a class="el" href="group__dhyara.html#gaa1db22c8c7fc5ec7e6ad632a9327e6f5">dhyara_send</a>, <a class="el" href="group__dhyara.html#gab53490ae8317a4dcdb9308543aaa32ff">dhyara_receive</a>, <a class="el" href="group__dhyara.html#gaaf7792aa443e682cf3dc63f0815c4b9e">dhyara_receivef</a> won't work if a global network is not set. These above functions are supposesed to be C compatiable, hence can not take the <a class="el" href="structdhyara_1_1network.html">dhyara::network</a> as an argument. However all these functionalities are doable with equivalent C++ API that do not require a global <a class="el" href="classdhyara_1_1link.html">dhyara::link</a>.</dd></dl>
<p><a class="el" href="group__dhyara.html#gac4a4e3c727ec3d63ba96f3b5ab963b68">dhyara_start_default_network</a> also starts the network using <a class="el" href="structdhyara_1_1network.html#aadf3365c6a5506187b2f9c91ef4fdd0a">dhyara::network::start</a>, which creates the necessary FreeRTOS tasks to maintain the network.</p>
<h3><a class="anchor" id="autotoc_md2"></a>
Basic Operations</h3>
<p>Basic send/receive IO is performed using variable length <a class="el" href="structdhyara_1_1packets_1_1data.html">dhyara::packets::data</a> packets. A data packet is splitted into smaller sized chunks (<a class="el" href="structdhyara_1_1packets_1_1chunk.html">dhyara::packets::chunk</a>), which are aggregated on the receiving side. On the receiving side the data packet is received from an intermediate node which may not be the node from where the data has originated (because the data is delivered through a multihop network). <a class="el" href="group__dhyara.html#gab53490ae8317a4dcdb9308543aaa32ff">dhyara_receive</a>, <a class="el" href="group__dhyara.html#gaaf7792aa443e682cf3dc63f0815c4b9e">dhyara_receivef</a> performs the basic send/receive operations using the global instance of <a class="el" href="structdhyara_1_1network.html">dhyara::network</a>. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaeb2d5dd4f524d1d165a4f4cf6f837ed8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeb2d5dd4f524d1d165a4f4cf6f837ed8">&#9670;&nbsp;</a></span>dhyara_create_default_network()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dhyara_create_default_network </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates the default global network. </p>
<p>It is equivalent to instantiating <a class="el" href="structdhyara_1_1network.html">dhyara::network</a>. </p><dl class="section attention"><dt>Attention</dt><dd>User code may not call this function directly. Use <a class="el" href="group__dhyara.html#gac4a4e3c727ec3d63ba96f3b5ab963b68">dhyara_start_default_network</a> instead. </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>There should be exactly one instance of <a class="el" href="structdhyara_1_1network.html">dhyara::network</a> </dd></dl>

</div>
</div>
<a id="ga86084def043742c0f3d7d2a8a2ffe87b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga86084def043742c0f3d7d2a8a2ffe87b">&#9670;&nbsp;</a></span>dhyara_espnow_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t dhyara_espnow_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize ESP-Now. </p>
<p>Registers the necessary ESP Now send/receive callbacks. </p><dl class="section attention"><dt>Attention</dt><dd>should be called after initializing wifi (e.g. <a class="el" href="group__dhyara.html#ga53e6fba4548ac861adb1b477134d84cf">dhyara_wifi_init</a>) </dd></dl>

</div>
</div>
<a id="gad860e0c89a7d23dd21693769dd7d528e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad860e0c89a7d23dd21693769dd7d528e">&#9670;&nbsp;</a></span>dhyara_has_default_network()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool dhyara_has_default_network </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks whether the default network is set or not. </p>

</div>
</div>
<a id="ga42863788515b1583d0ec0b4fd2b8a0fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga42863788515b1583d0ec0b4fd2b8a0fa">&#9670;&nbsp;</a></span>dhyara_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t dhyara_init </td>
          <td>(</td>
          <td class="paramtype">wifi_mode_t&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes wifi, starts wifi, then initializes ESP Now. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__dhyara.html#ga53e6fba4548ac861adb1b477134d84cf" title="Conveniance function to initialize wifi.">dhyara_wifi_init</a> </dd>
<dd>
<a class="el" href="group__dhyara.html#ga86084def043742c0f3d7d2a8a2ffe87b" title="Initialize ESP-Now.">dhyara_espnow_init</a> </dd></dl>

</div>
</div>
<a id="ga36d8ce61d2823d3dfd1b93ecdbc3a8d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga36d8ce61d2823d3dfd1b93ecdbc3a8d9">&#9670;&nbsp;</a></span>dhyara_local() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structdhyara_1_1peer__address.html">dhyara::peer_address</a> dhyara_local </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>gets the mac address of self </p>

</div>
</div>
<a id="ga672baef2f77147252c5a13bf40022fd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga672baef2f77147252c5a13bf40022fd6">&#9670;&nbsp;</a></span>dhyara_local() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool dhyara_local </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>gets the mac address of self </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>writable 6 bytes long buffer to hold the mac address </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gab53490ae8317a4dcdb9308543aaa32ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab53490ae8317a4dcdb9308543aaa32ff">&#9670;&nbsp;</a></span>dhyara_receive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool dhyara_receive </td>
          <td>(</td>
          <td class="paramtype">dhyara_receive_callback_type&#160;</td>
          <td class="paramname"><em>callback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets a callback on the default networks on_data. </p>
<p>This callback will be called whenever a data packet is received. (accepts C++ anonymous function) The typedef dhyara_receive_callback_t is defined as the following. </p><div class="fragment"><div class="line"><span class="keyword">typedef</span> std::function&lt;void (<span class="keyword">const</span> <a class="code" href="structdhyara_1_1peer__address.html">dhyara::peer_address</a>&amp;, <a class="code" href="structdhyara_1_1packets_1_1data.html#a9470d00822346746b55ed2222dacfe0f">dhyara::packets::data::const_iterator</a>, <a class="code" href="structdhyara_1_1packets_1_1data.html#a9470d00822346746b55ed2222dacfe0f">dhyara::packets::data::const_iterator</a>)&gt; dhyara_receive_callback_type;</div>
</div><!-- fragment --><p> Following is an example of the callback function. </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> callback (<span class="keyword">const</span> <a class="code" href="structdhyara_1_1peer__address.html">dhyara::peer_address</a>&amp;, <a class="code" href="structdhyara_1_1packets_1_1data.html#a9470d00822346746b55ed2222dacfe0f">dhyara::packets::data::const_iterator</a>, <a class="code" href="structdhyara_1_1packets_1_1data.html#a9470d00822346746b55ed2222dacfe0f">dhyara::packets::data::const_iterator</a>){</div>
<div class="line"> </div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callback</td><td>The callback function </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae85e9889960b31503c677e2d577f2dd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae85e9889960b31503c677e2d577f2dd7">&#9670;&nbsp;</a></span>dhyara_receive_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool dhyara_receive_data </td>
          <td>(</td>
          <td class="paramtype">dhyara_receive_data_callback_type&#160;</td>
          <td class="paramname"><em>callback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets a callback on the default networks on_data. </p>
<p>This callback will be called whenever a data packet is received. (accepts C++ anonymous function) The typedef dhyara_receive_data_callback_type is defined as the following. </p><div class="fragment"><div class="line"><span class="keyword">typedef</span> std::function&lt;void (<span class="keyword">const</span> <a class="code" href="structdhyara_1_1peer__address.html">dhyara::peer_address</a>&amp;, <span class="keyword">const</span> <a class="code" href="structdhyara_1_1packets_1_1data.html">dhyara::packets::data</a>&amp; data)&gt; dhyara_receive_data_callback_type;</div>
</div><!-- fragment --><p> Following is an example of the callback function. </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> callback (<span class="keyword">const</span> <a class="code" href="structdhyara_1_1peer__address.html">dhyara::peer_address</a>&amp;, <span class="keyword">const</span> <a class="code" href="structdhyara_1_1packets_1_1data.html">dhyara::packets::data</a>&amp; data){</div>
<div class="line"> </div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callback</td><td>The callback function </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaaf7792aa443e682cf3dc63f0815c4b9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaf7792aa443e682cf3dc63f0815c4b9e">&#9670;&nbsp;</a></span>dhyara_receivef()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool dhyara_receivef </td>
          <td>(</td>
          <td class="paramtype">dhyara_receivef_callback_t&#160;</td>
          <td class="paramname"><em>callback</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback for <a class="el" href="group__dhyara.html#gaaf7792aa443e682cf3dc63f0815c4b9e">dhyara_receivef</a>. </p>
<p>Sets a callback on the default networks on_data. This callback will be called whenever a data packet is received. The typedef dhyara_receivef_callback_t is defined as the following. </p><div class="fragment"><div class="line"><span class="keyword">typedef</span> void (*dhyara_receivef_callback_t) (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* source, <span class="keyword">const</span> <span class="keywordtype">void</span>* data, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> len);</div>
</div><!-- fragment --><p> Following is an example of the callback function. </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> callback (<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* source, <span class="keyword">const</span> <span class="keywordtype">void</span>* data, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> len){</div>
<div class="line"> </div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callback</td><td>The callback function </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga739fc7f4116f7eb70d733faad6a9aac3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga739fc7f4116f7eb70d733faad6a9aac3">&#9670;&nbsp;</a></span>dhyara_send() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename InputIt &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool dhyara_send </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structdhyara_1_1peer__address.html">dhyara::peer_address</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">InputIt&#160;</td>
          <td class="paramname"><em>begin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">InputIt&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a variable length data as data packet to the destination over multi hop network. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">target</td><td>MAC address of the target </td></tr>
    <tr><td class="paramname">begin</td><td>begin iterator </td></tr>
    <tr><td class="paramname">end</td><td>end iterator </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaa1db22c8c7fc5ec7e6ad632a9327e6f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa1db22c8c7fc5ec7e6ad632a9327e6f5">&#9670;&nbsp;</a></span>dhyara_send() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename InputIt &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool dhyara_send </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structdhyara_1_1peer__address.html">dhyara::peer_address</a> &amp;&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">InputIt&#160;</td>
          <td class="paramname"><em>begin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a variable length data as data packet to the destination over multi hop network. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">target</td><td>MAC address of the target </td></tr>
    <tr><td class="paramname">begin</td><td>begin iterator </td></tr>
    <tr><td class="paramname">len</td><td>length of the data to be sent (if length is set to zero then uses strlen the get the length of data). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga3d7c1e001cecb51f780b7eb3a7db356c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3d7c1e001cecb51f780b7eb3a7db356c">&#9670;&nbsp;</a></span>dhyara_send() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool dhyara_send </td>
          <td>(</td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a variable length data as data packet to the destination over multi hop network. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">target</td><td>6 bytes long mac address </td></tr>
    <tr><td class="paramname">data</td><td>pointer to the beginnning of the buffer to send </td></tr>
    <tr><td class="paramname">len</td><td>length of the data to be sent (if length is set to zero then uses strlen the get the length of data). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gac4a4e3c727ec3d63ba96f3b5ab963b68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac4a4e3c727ec3d63ba96f3b5ab963b68">&#9670;&nbsp;</a></span>dhyara_start_default_network()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dhyara_start_default_network </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts the default network. </p>
<p>Creates a default network if none is set already.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__dhyara.html#gaeb2d5dd4f524d1d165a4f4cf6f837ed8" title="Creates the default global network.">dhyara_create_default_network</a> </dd></dl>

</div>
</div>
<a id="ga53e6fba4548ac861adb1b477134d84cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga53e6fba4548ac861adb1b477134d84cf">&#9670;&nbsp;</a></span>dhyara_wifi_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">esp_err_t dhyara_wifi_init </td>
          <td>(</td>
          <td class="paramtype">wifi_mode_t&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Conveniance function to initialize wifi. </p>
<dl class="section attention"><dt>Attention</dt><dd>esp_wifi_start() should be called after calling this function </dd>
<dd>
ESP Now may be initialized (e.g. <a class="el" href="group__dhyara.html#ga86084def043742c0f3d7d2a8a2ffe87b">dhyara_espnow_init</a>) after initializing wifi</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mode</td><td>wifi mode (AP, STA or APSTA) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="astructdhyara_1_1peer__address_html"><div class="ttname"><a href="structdhyara_1_1peer__address.html">dhyara::peer_address</a></div><div class="ttdoc">peer address (mac address)</div><div class="ttdef"><b>Definition:</b> <a href="peer_8h_source.html#l00029">peer.h:29</a></div></div>
<div class="ttc" id="astructdhyara_1_1packets_1_1data_html_a9470d00822346746b55ed2222dacfe0f"><div class="ttname"><a href="structdhyara_1_1packets_1_1data.html#a9470d00822346746b55ed2222dacfe0f">dhyara::packets::data::const_iterator</a></div><div class="ttdeci">dynamic_buffer_type::const_iterator const_iterator</div><div class="ttdef"><b>Definition:</b> <a href="data_8h_source.html#l00029">data.h:29</a></div></div>
<div class="ttc" id="astructdhyara_1_1packets_1_1data_html"><div class="ttname"><a href="structdhyara_1_1packets_1_1data.html">dhyara::packets::data</a></div><div class="ttdoc">A virtual packet, that is never sent accros the network.</div><div class="ttdef"><b>Definition:</b> <a href="data_8h_source.html#l00027">data.h:27</a></div></div>
<div class="ttc" id="agroup__dhyara_html_ga42863788515b1583d0ec0b4fd2b8a0fa"><div class="ttname"><a href="group__dhyara.html#ga42863788515b1583d0ec0b4fd2b8a0fa">dhyara_init</a></div><div class="ttdeci">esp_err_t dhyara_init(wifi_mode_t mode)</div><div class="ttdoc">Initializes wifi, starts wifi, then initializes ESP Now.</div></div>
<div class="ttc" id="agroup__dhyara_html_gac4a4e3c727ec3d63ba96f3b5ab963b68"><div class="ttname"><a href="group__dhyara.html#gac4a4e3c727ec3d63ba96f3b5ab963b68">dhyara_start_default_network</a></div><div class="ttdeci">void dhyara_start_default_network()</div><div class="ttdoc">Starts the default network.</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
